<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title>Heroku Monitoring Dashboard</title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2575.7">
  <style type="text/css">
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; text-align: center; font: 13.2px Georgia; color: #ffffff; -webkit-text-stroke: #ffffff}
    p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 15.6px Georgia; color: #2f1d1a; -webkit-text-stroke: #2f1d1a}
    p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.3px Georgia; color: #2f1d1a; -webkit-text-stroke: #2f1d1a}
    p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Georgia; -webkit-text-stroke: #000000; min-height: 14.0px}
    p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 10.8px Georgia; color: #4a312a; -webkit-text-stroke: #4a312a}
    p.p9 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Georgia; -webkit-text-stroke: #000000}
    p.p10 {margin: 0.0px 0.0px 0.0px 0.0px; font: 10.2px Georgia; color: #593b32; -webkit-text-stroke: #593b32}
    p.p11 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Georgia; color: #fff7d4; -webkit-text-stroke: #fff7d4}
    p.p12 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Georgia; color: #4a312a; -webkit-text-stroke: #4a312a}
    p.p14 {margin: 0.0px 0.0px 20.0px 0.0px; font: 12.0px Georgia; color: #593b32; -webkit-text-stroke: #593b32}
    span.s1 {font: 30.0px 'Apple Color Emoji'; font-kerning: none; text-shadow: 3.0px 3.0px 6.0px rgba(254, 254, 254, 0.0039)}
    span.s2 {font-kerning: none; text-shadow: 3.0px 3.0px 6.0px rgba(254, 254, 254, 0.0039)}
    span.s3 {font-kerning: none}
    span.s4 {font-kerning: none; background-color: #fff7d4}
    span.s5 {font: 12.0px 'Apple Color Emoji'; font-kerning: none}
    input, button { font-family: Georgia; font-size: 12px; margin-top: 2px; margin-bottom: 8px; }
    input[type="text"], input[type="number"] { padding: 4px; width: 300px; }
    button { padding: 6px 12px; background-color: #593b32; color: #fff7d4; border: none; cursor: pointer; }
    button:hover { background-color: #4a312a; }
  </style>
</head>
<body>
<h1 style="margin: 0.0px 0.0px 10.0px 0.0px; text-align: center; font: 30.0px Georgia; color: #ffffff; -webkit-text-stroke: #ffffff"><span class="s1">ðŸ¤ </span><span class="s2"><b> Heroku Monitoring Dashboard</b></span></h1>
<p class="p2"><span class="s3">Wrangle your apps and keep 'em running smooth on the digital frontier</span></p>

<h2 style="margin: 0.0px 0.0px 20.0px 0.0px; font: 18.0px Georgia; color: #2f1d1a; -webkit-text-stroke: #2f1d1a"><span class="s3"><b>Current Status</b></span></h2>
<h3 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 10.8px Georgia; color: #4a312a; -webkit-text-stroke: #4a312a"><span class="s3"><b>MONITORED APP</b></span></h3>
<p class="p5"><span class="s3"><b>{{ current_app or 'Not Set' }}</b></span></p>
<h3 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 10.8px Georgia; color: #4a312a; -webkit-text-stroke: #4a312a"><span class="s3"><b>ALERT CHANNEL</b></span></h3>
<p class="p5"><span class="s3"><b>{{ current_channel or 'Not Set' }}</b></span></p>
<h3 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 10.8px Georgia; color: #4a312a; -webkit-text-stroke: #4a312a"><span class="s3"><b>CHECK INTERVAL</b></span></h3>
<p class="p5"><span class="s3"><b>{{ check_interval }} min</b></span></p>
<h3 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 10.8px Georgia; -webkit-text-stroke: #4a312a"><span class="s3"><b>STATUS</b></span></h3>
<p class="p6"><span class="s3"><b>{{ 'ACTIVE' if MONITORING_ACTIVE else 'INACTIVE' }}</b></span></p>

<h2 style="margin: 0.0px 0.0px 20.0px 0.0px; font: 18.0px Georgia; color: #2f1d1a; -webkit-text-stroke: #2f1d1a"><span class="s3"><b>Configure Monitoring</b></span></h2>

<form method="POST" action="{{ url_for('update_config') }}">
    <p class="p8"><span class="s3"><b>HEROKU APP NAME</b></span></p>
    <input type="text" name="app_name" value="{{ current_app or '' }}" required>
    <p class="p10"><span class="s3"><i>Enter the exact name of the Heroku app you want to monitor</i></span></p>

    <p class="p8"><span class="s3"><b>SLACK CHANNEL</b></span></p>
    <input type="text" name="slack_channel" value="{{ current_channel or '#alerts' }}" required>
    <p class="p10"><span class="s3"><i>Channel where alerts will be posted (include the # prefix)</i></span></p>

    <p class="p8"><span class="s3"><b>CHECK INTERVAL (MINUTES)</b></span></p>
    <input type="number" name="check_interval" value="{{ check_interval }}" min="1" max="60" required>
    <p class="p10"><span class="s3"><i>How often to check app health (1-60 minutes)</i></span></p>

    <button type="submit">UPDATE CONFIGURATION</button>
</form>

<p class="p12"><span class="s5">ðŸŒµ</span><span class="s3"><b> Trail Tip:</b> Changes take effect immediately! The monitoring bot will start keeping watch over the new app and sending alerts faster than you can say "yeehaw!"</span></p>

<h2 style="margin: 0.0px 0.0px 15.0px 0.0px; font: 18.0px Georgia; color: #2f1d1a; -webkit-text-stroke: #2f1d1a"><span class="s3"><b>Static Configuration</b></span></h2>
<h3 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 10.8px Georgia; color: #4a312a; -webkit-text-stroke: #4a312a"><span class="s3"><b>HEROKU API</b></span></h3>
<p class="p6"><span class="s3"><b>{{ 'CONFIGURED' if HEROKU_API_CONFIGURED else 'NOT SET' }}</b></span></p>
<h3 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 10.8px Georgia; color: #4a312a; -webkit-text-stroke: #4a312a"><span class="s3"><b>SLACK BOT TOKEN</b></span></h3>
<p class="p6"><span class="s3"><b>{{ 'CONFIGURED' if SLACK_CONFIGURED else 'NOT SET' }}</b></span></p>
<p class="p14"><span class="s3"><i>These settings are configured via environment variables and require a redeploy to change.</i></span></p>

</body>
</html>
